(this.webpackJsonpsports_stats=this.webpackJsonpsports_stats||[]).push([[0],{206:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},225:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(28),c=n.n(r),s=n(42),i=n(43),o=n(86),u=n(85),l=n(25),h=n(9),j=(n(206),n(3)),d=function(){return Object(j.jsxs)("div",{className:"header-block",children:[Object(j.jsx)("h3",{children:Object(j.jsx)(l.b,{to:"/sports-stats/",children:"Sports statistics"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/sports-stats/teams",children:"Teams"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/sports-stats/leagues",children:"Leagues"})})]})]})},b=n(13),f=(n(92),function(e){var t=e.data,n=e.onRowClicked;return Object(j.jsx)("tr",{onClick:n,className:"row-hover",children:Object.keys(t).slice(1).map((function(e,n){return Object(j.jsx)("td",{children:t[e]},n)}))})}),m=function(e){var t=e.item;return Object.keys(t).slice(1).map((function(e,t){return e=e[0].toUpperCase()+e.slice(1),Object(j.jsx)("th",{children:e},t)}))},p=n(22),O=function(e,t){switch(t.type){case"GET_TEAMS":return Object(p.a)(Object(p.a)({},e),{},{teams:t.payload});case"GET_LEAGUES":return Object(p.a)(Object(p.a)({},e),{},{leagues:t.payload});case"GET_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{text:t.payload});case"GET_ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:!0});default:return e}},g={teams:[],leagues:[],text:"",error:!1},v=Object(a.createContext)(g),x=function(e){var t=e.children,n=Object(a.useReducer)(O,g),r=Object(b.a)(n,2),c=r[0],s=r[1];return Object(j.jsx)(v.Provider,{value:[c,s],children:t})};var A=function(e){var t=e.items,n=e.onRowClicked,r=e.type,c=Object(a.useContext)(v),s=Object(b.a)(c,1)[0][r];return Object(j.jsxs)("table",{id:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:Object(j.jsx)(m,{item:s[0]})})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(f,{data:e,onRowClicked:function(){return n(e.id)}},e.id)}))})]})},y=(n(212),function(){return Object(j.jsxs)("div",{className:"error-indicator",children:[Object(j.jsx)("img",{src:"data:image/png;base64,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",alt:"Error icon"}),Object(j.jsx)("span",{children:"Data cannot be fetched. Try again later."})]})}),w=n.p+"static/media/spinner.c60d8417.svg",C=(n(213),function(){return Object(j.jsx)("img",{src:w,alt:"Loading...",className:"spinner"})}),T=(n(214),function(e){var t=e.input,n=e.onChange,r=Object(h.f)();return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search);t?e.set("name",t):e.delete("name"),r.push({search:e.toString()})}),[t,r]),Object(j.jsx)("input",{placeholder:"Search...",className:"form-control search-input",value:t,onChange:function(e){return n(e.target.value)}})}),R=n(201),D=n(200),N=(n(215),function(e){var t=e.items,n=e.optionField,r=e.onChange,c=e.selectedOption,s=Object(a.useState)([]),i=Object(b.a)(s,2),o=i[0],u=i[1];Object(a.useEffect)((function(){!function(){var e=Object(R.a)(new Set(t.map((function(e){return e[n]})).filter((function(e){return e})))).sort();e=e.map((function(e){return{value:e,label:e}})),u(e)}()}),[t]);var l=Object(h.f)();return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search);c?e.set("year",c):e.delete("year"),l.push({search:e.toString()})}),[c,l]),Object(j.jsx)(D.a,{value:{value:c,label:c||"Select..."},options:o,className:"select-list",onChange:function(e){e=e?e.value:"",r(e)},isClearable:!0})}),k=Object(h.g)((function(e){var t=e.history,n=e.getData,r=e.type,c=e.optionField,s=Object(a.useContext)(v),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(a.useState)(""),h=Object(b.a)(l,2),d=h[0],f=h[1],m=Object(a.useState)(),p=Object(b.a)(m,2),O=p[0],g=p[1],x=new URLSearchParams(window.location.search),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";f(e)},R=function(e){g(+e)};if(Object(a.useEffect)((function(){n().then((function(e){u({type:"GET_".concat(r.toUpperCase()),payload:e})})).catch((function(){u({type:"GET_ERROR"})}))}),[]),Object(a.useEffect)((function(){var e=x.get("name")||"",n=x.get("year")||"";t.push({search:x.toString()}),w(e),R(n)}),[o[r]]),o.error)return Object(j.jsx)(y,{});var D,k,S=function(e,t){return t?e.filter((function(e){return e[c]===t})):e}((D=o[r],(k=d)?D.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})):D),O);return 0===o[r].length?Object(j.jsx)(C,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{id:"title",children:[" List of ",r," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(T,{input:d,onChange:w}),Object(j.jsx)(N,{items:o[r],optionField:c,onChange:R,selectedOption:O})]}),Object(j.jsx)(A,{onRowClicked:function(e){t.push("/sports-stats/".concat(r,"/").concat(e))},items:S,type:r})]})})),S=n(19),E=n.n(S),H=n(36),F=n(80),B=n.n(F),Y=function(){function e(){var t=this;Object(s.a)(this,e),this.getTeams=Object(H.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/teams");case 2:return n=e.sent,e.abrupt("return",n.teams.map(t._transformTeam));case 4:case"end":return e.stop()}}),e)}))),this.getTeam=function(){var e=Object(H.a)(E.a.mark((function e(n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/teams/".concat(n));case 2:return a=e.sent,e.abrupt("return",t._transformTeam(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMatch=function(){var e=Object(H.a)(E.a.mark((function e(n,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/".concat(n,"/").concat(a,"/matches"));case 2:return r=e.sent,e.abrupt("return",{count:r.count,matches:r.matches.map(t._transformMatch)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getLeagues=Object(H.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/competitions");case 2:return n=e.sent,e.abrupt("return",n.competitions.map(t._transformLeague));case 4:case"end":return e.stop()}}),e)}))),this.getLeague=function(){var e=Object(H.a)(E.a.mark((function e(n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/competitions/".concat(n));case 2:return a=e.sent,e.abrupt("return",t._transformLeague(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformMatch=function(e){var n=e.id,a=e.utcDate,r=e.status,c=e.score,s=e.homeTeam,i=e.awayTeam;return{id:n,date:t.convertDate(a),status:r,winner:c.winner,homeTeam:s.name,awayTeam:i.name}},this._api="https://api.football-data.org/v2"}return Object(i.a)(e,[{key:"getResource",value:function(){var e=Object(H.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._api).concat(t),{headers:{"X-Auth-Token":"ee9e32655fbb40f887db17ef2d5d3a71"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformTeam",value:function(e){var t=e.id,n=e.name,a=e.area,r=e.founded,c=e.venue,s=e.clubColors;return{id:t,name:n,area:a.name,founded:r,venue:c,colors:s}}},{key:"_transformLeague",value:function(e){return{id:e.id,name:e.name,area:e.area.name}}},{key:"convertDate",value:function(e){return B()(e).format("DD.MM.YYYY HH:mm")}}]),e}(),L=function(){var e=new Y;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(k,{getData:e.getTeams,type:"teams",optionField:"founded"})})},U=function(){var e=new Y;return Object(j.jsx)(k,{getData:e.getLeagues,type:"leagues"})},G=n(391),J=(n(224),n(225),function(e){var t=e.onChange;return Object(j.jsx)(G.a,{showOneCalendar:!0,placeholder:"Choose the range",className:"date-picker",cleanable:!0,onChange:function(e){return t(e)}})}),W=(n(386),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).sportService=new Y,e.state={matches:[],loading:!0,selectedOption:null,startDate:null,endDate:null,error:!0},e.onYearChange=function(t){e.setState({selectedOption:t})},e.updateArray=function(e){return e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{date:e.date.substr(6,4)})}))},e.onDateChange=function(t){var n=Object(b.a)(t,2),a=n[0],r=n[1];e.setState({startDate:a,endDate:r})},e.filterByDates=function(e,t,n){return t?e.filter((function(e){var a=new Date(B()(e.date,"DD.MM.YYYY")).getTime(),r=new Date(t).getTime(),c=new Date(n).getTime();return r<=a&&a<=c})):e},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.sportService.getMatch(this.props.type,this.props.itemId).then((function(t){var n=t.matches;e.setState({matches:n,loading:!1,error:!1})})).catch(this.setState({loading:!1,error:!0}));var t=new URLSearchParams(window.location.search);this.props.history.push({search:t.toString()});var n=t.get("year")||"";this.onYearChange(n)}},{key:"assignMatchResultClass",value:function(e,t){if(null!==e)return"DRAW"===e?"draw":e.substr(0,4).toLowerCase()===t?"win":"lose"}},{key:"renderTableData",value:function(e){var t=this;return e.map((function(e){var n=e.id,a=e.date,r=e.winner,c=e.homeTeam,s=e.awayTeam,i=t.assignMatchResultClass(r,"home"),o=t.assignMatchResultClass(r,"away");return Object(j.jsxs)("tr",{className:"row-hover",children:[Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{className:"".concat(i),children:c}),Object(j.jsx)("td",{className:"".concat(o),children:s})]},n)}))}},{key:"renderTableHeader",value:function(){return Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Home Team"}),Object(j.jsx)("th",{children:"Away Team"})]})})}},{key:"filterFinished",value:function(e){return e.filter((function(e){return"FINISHED"===e.status})).reverse()}},{key:"filterScheduled",value:function(e){return e.filter((function(e){return"SCHEDULED"===e.status}))}},{key:"filterByYear",value:function(e,t){return t?e.filter((function(e){return e.date.substr(6,4)===t})):e}},{key:"render",value:function(){var e=this.state,t=e.matches,n=e.loading,a=e.selectedOption,r=e.startDate,c=e.endDate,s=e.error;if(n)return Object(j.jsx)(C,{});if(s)return Object(j.jsx)(y,{});var i=this.filterScheduled(this.filterByDates(this.filterByYear(t,a),r,c)),o=this.filterFinished(this.filterByDates(this.filterByYear(t,a),r,c));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{id:"title",children:this.props.itemName}),Object(j.jsxs)("div",{className:"date-fields",children:[Object(j.jsx)(J,{onChange:this.onDateChange}),Object(j.jsx)(N,{items:this.updateArray(t),optionField:"date",onChange:this.onYearChange,selectedOption:a})]}),Object(j.jsxs)("table",{id:"table",className:"table-fixed",children:[this.renderTableHeader(),Object(j.jsxs)("tbody",{children:[Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"3",children:Object(j.jsxs)("span",{className:"split",children:["Scheduled (",i.length,")"]})})}),this.renderTableData(i),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"3",children:Object(j.jsxs)("span",{className:"split",children:["Finished (",o.length,")"]})})}),this.renderTableData(o)]})]})]})}}]),n}(a.Component)),Q=Object(h.g)(W),K=function(e){var t=e.teamId,n=new Y,r=Object(a.useState)(),c=Object(b.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){n.getTeam(t).then((function(e){i(e.name)}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Q,{itemId:t,itemName:s,type:"teams"})})},P=function(e){var t=e.leagueId,n=new Y,r=Object(a.useState)(),c=Object(b.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){n.getTeam(t).then((function(e){i(e.name)}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Q,{itemId:t,itemName:s,type:"competitions"})})},q=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(j.jsx)(l.a,{children:Object(j.jsxs)(x,{children:[Object(j.jsx)(d,{}),Object(j.jsx)(h.b,{exact:!0,path:"/sports-stats/",children:Object(j.jsx)(h.a,{to:"/sports-stats/teams"})}),Object(j.jsx)(h.b,{path:"/sports-stats/teams",exact:!0,component:L}),Object(j.jsx)(h.b,{path:"/sports-stats/leagues",exact:!0,component:U}),Object(j.jsx)(h.b,{path:"/sports-stats/teams/:id",render:function(e){var t=e.match;return Object(j.jsx)(K,{teamId:t.params.id})}}),Object(j.jsx)(h.b,{path:"/sports-stats/leagues/:id",render:function(e){var t=e.match;return Object(j.jsx)(P,{leagueId:t.params.id})}})]})})}}]),n}(a.Component);c.a.render(Object(j.jsx)(q,{}),document.getElementById("root"))},92:function(e,t,n){}},[[387,1,2]]]);
//# sourceMappingURL=main.35185cbe.chunk.js.map